package de.rafmon.aoc._24._6;

import java.util.HashSet;
import java.util.Set;

import de.rafmon.aoc.util.InputHelper;

public class GuardGallivant {

	public static final String INPUT = ""
			+ "...#........................................#........#.................#............#.#.......................#...............#..#\n"
			+ "...#........#.....#..................................................................................#......#..#..................\n"
			+ ".................#.......................#.#........#......#...........................................#...#..........#...........\n"
			+ "..................#..................#...#.....................................#........#.........................................\n"
			+ "...#.....#.......#..............#.#....##.............#....##......................................#...................#..........\n"
			+ "...#..........................................................................................................................#...\n"
			+ "..#..#.............#.....#...............#.......#..............................................#....#............................\n"
			+ "......................#..#...............#...................#....#..........................#...#............#...#....##.........\n"
			+ "..#.#.........#................#............#............#.#.......#................#....#..#.....................................\n"
			+ ".......................................................................#.....................................#...........#........\n"
			+ "...........#.....................................................................#.................................#......#.......\n"
			+ "...#.........#....................................................#..............#.............#..........#.......................\n"
			+ ".................................................................................................#................................\n"
			+ "..................................#.#.#...#.......#.............#.......................#..#.......................#.#............\n"
			+ ".......................#.........................................#..........#...#.....#....................................#......\n"
			+ ".......#.......#.#...........#......................#.....#..#...#.#...............#.............................#...#............\n"
			+ "............##...#......#.........#......#............................................................#.........#..............#..\n"
			+ "..#........................................#........##..#...............................................................#.........\n"
			+ "...........#..............##................................................................................#.....................\n"
			+ "..#................................................................................#..............#...............................\n"
			+ "...................................##..............#..........................#.......#..#...............#........#...............\n"
			+ "....#............#.........................#................................................................#........#............\n"
			+ "............#.....................................................................#.............................................#.\n"
			+ "............#..........#.......#...........#.#......#..............#.........#.......................................#......#.....\n"
			+ "..#...............................................#..................................#.............................#.............#\n"
			+ ".........................................................................#........#................#......#.......#....#........#.\n"
			+ ".......................................................................#.....##.................................................#.\n"
			+ "..............#.............#...........................#...#..#....................................................#.............\n"
			+ ".......#..........................#.......................###..................................#.....................#..#.........\n"
			+ "................#.................#.............#......................................................................#........#.\n"
			+ ".#.....#................#......................................................................#................#.................\n"
			+ "................................#........................#........#..#........................#...................................\n"
			+ "..............................................................................................#.....................#.........#...\n"
			+ "..................#.................#.........................#.....#................#............................................\n"
			+ "......#...................#...#...................#..................#...........................#......###...................#...\n"
			+ ".............................##.....#..............#..............................................................#....#..........\n"
			+ "......#..................#....................................................###....................#..............#.............\n"
			+ "............#...#..................#........#.............#..............................#.........#..........................#...\n"
			+ "....#...............................#......#......#...............#.#......#............#...................................#.....\n"
			+ ".......#...................................#.#.#.........................................................#..................#.....\n"
			+ ".....................#.......#.#......#.#.....................#...................................................................\n"
			+ "......#.....#............................................................................#............#.......#..#................\n"
			+ "..........#.#......#...................................#....#.#............##.....................................................\n"
			+ "...............#........................#..................................#...........#...................................#......\n"
			+ ".#....................................................#.......................................................................#...\n"
			+ "......#.........................................#...#.........................................#........#..........................\n"
			+ ".........................................#..........#.............................................................................\n"
			+ "...................#.....................................#.....................#..#............#....#........................##...\n"
			+ ".................................#.........#.............#.............................#...........................#...#..........\n"
			+ "..#................................................................#.....#....#.................................#.................\n"
			+ "........#................#............#.#..........................................#..............................................\n"
			+ "..#...........##.....................#..#..........................#...#...#....#.................................................\n"
			+ "................................................................................#.................................................\n"
			+ "............#...........#.........#....#.........................................................................#................\n"
			+ ".............................#...........................................#...............##...................................#...\n"
			+ "......................#..............#...#........................#........................................#......................\n"
			+ "............#..............#...#.....#.....#..........#...........................#........#...............#......................\n"
			+ "..................#............................#....#................................................................#............\n"
			+ "..#........................#.............................#......#...............#....#...........#................................\n"
			+ ".................................................#................................................#..................#........#...\n"
			+ ".#......#.........................................................#...........#...#.......................#.......................\n"
			+ "..........................................#.......##........#................................................#..##............##..\n"
			+ "..............#...#....................................................................#........#...........................#.....\n"
			+ "................#....................................................................#........................................###.\n"
			+ "....#............................................#........................#.................#........#.....#...#.....#.#....#.....\n"
			+ "...##..........#..................................................................................................................\n"
			+ "#....#.........#....................#.#.........................#..........##.......#....#..#....................#................\n"
			+ "........#.........#..........#.................#..................#................................#.......#................#...#.\n"
			+ ".#..........................................#..#..#......#................................#.#.#..#................................\n"
			+ "....#.......#.........#............................................................#....#.........................................\n"
			+ ".....................................................................#...#......................#.................................\n"
			+ "............#.....#.....#..........#...............................................................................#..............\n"
			+ ".........................#...#.#.......#....................................................................#.................#...\n"
			+ "......................................................#.#..........................#...#................#.........................\n"
			+ ".....#.........#.........#..............................................................#...................#.#......#............\n"
			+ ".......................................#......#.......................#.................................................#.....#...\n"
			+ ".....#....#.......................................................................................................................\n"
			+ "#..........#....#....................................#.............#...............#...................#..........#...............\n"
			+ "..#....................................##.....................................#...............................#...................\n"
			+ "....#..................................#........................#.................................................................\n"
			+ "....#................................................................................................#...................#........\n"
			+ "....#................................................................................#............................................\n"
			+ "..........#.....#...................#.......................#......#..............................................................\n"
			+ "#...................#..........#............................................................#............#..............#.........\n"
			+ "...#...#....#................................#............................#.##.....................................#..............\n"
			+ "..........#.........#.....#...........#............................#...............#.#....#................#....................##\n"
			+ ".....#...................................................#........................................................................\n"
			+ "............##....................................#..................#.#..#.....................#.........#....##......#...#......\n"
			+ "...........#.......#....................#.......................#..#.................#.......#.........#..........................\n"
			+ "#.....................#..#..............................................................................................#.........\n"
			+ "....#....#..............#............##....................................................^.................#..............#.....\n"
			+ ".........#......................................................#..............#............#...#......#....#.....................\n"
			+ ".......##...................#...........#.........#.......................................#..........................#............\n"
			+ ".#........#.#........................#...........#............#..#........#........#.............#................................\n"
			+ "..................##........##.................................................................................#................#.\n"
			+ "...#...................#.....#...........#.........#..#............#..................................#.....#.....................\n"
			+ ".................#.........#..........#............#......#.........................#.............#.......#......................#\n"
			+ ".................................................................#...............#.....#.#....#...................................\n"
			+ "..........................#...........................................................................................#..#........\n"
			+ "..............#.................................................................................##......................#.........\n"
			+ "....#...#....................#...............................................#................#............#......................\n"
			+ "........................................................................#........#................................................\n"
			+ "....#.....#......................#.......#............#......................................#..................................#.\n"
			+ "................#................................#.#.............#.#.........#..............................................#.....\n"
			+ "..............#..................#...#...........................................................................#................\n"
			+ "...#..........#....................................................#...............................#...........#.......#..........\n"
			+ "...................................#....................#..#.#........#..#.......................#...#.....#......................\n"
			+ ".......#.....#.#.......#....#............#...............#..........#.................#........#.#................................\n"
			+ ".....#....#.........#........#.......#............................................................................................\n"
			+ "..#........#......#............................................................#..........#...............................#.......\n"
			+ "..#..#...................................#....................#...#.#................#......................#.....................\n"
			+ "....................................#......#.....................#...........#.....................#........#.....................\n"
			+ ".#..................#.........................................................................................................#...\n"
			+ "..............#...........#.#....#..#......#..#.#...#.#.........................................................................#.\n"
			+ "...#............##.......................................................#.......................#..#.............................\n"
			+ "......#........#..........#..#.#........#.....................#...................................................................\n"
			+ "...#...........#.........................................#............#.............#....#.....................................#..\n"
			+ "...........#.....................#......................................................................................#.........\n"
			+ ".......#..............#...............#............#..........................#............................#........##............\n"
			+ ".............#..........#..............................................#................#..............................#..........\n"
			+ "...............#..............................#.................#.....#................#....#.....................................\n"
			+ "............#.................#..........#........#............#..#......#.......................#....#...#.#...#.#...............\n"
			+ ".......#.#...................................##..............#.....#.....................#.................................##.....\n"
			+ "..#..#...#...#....#.............#..#.....................................................................................#........\n"
			+ "......#......................#...#...#..........#......................................#.................#....#.................#.\n"
			+ ".......#...........#...........#...................#..............................#.......................................#.......\n"
			+ "......#.......................................#...............................................#.........#........#....#.........##\n"
			+ "......#.................................................................#...#............#..........#.............................\n"
			+ ".....................................#..........#.........#.....#.............#...........#.......................................\n"
			+ ".#.....................................#......................#.....#..#..........................................................";

	private static char[][] landscape;
	private static Set<String> visitedLocations;

	public static void main(String[] args) {
		landscape = InputHelper.convertInputToMatrix(INPUT);
		visitedLocations = new HashSet<String>();
		int starty = 90;
		int startx = 91;

		moveNorth(starty, startx);
		System.out.println(visitedLocations.size());

		printMatrix(landscape);
	}

	private static void moveNorth(int starty, int startx) {
		visitedLocations.add("" + starty + startx);
		landscape[starty][startx] = 'X';
		if (starty - 1 < 0) {
			return;
		} else {
			if (landscape[starty - 1][startx] == '#') {
				moveEast(starty, startx);
			} else {
				moveNorth(starty - 1, startx);
			}
		}
	}

	private static void moveEast(int starty, int startx) {
		visitedLocations.add("" + starty + startx);
		if (startx + 1 > landscape[starty].length - 1) {
			return;
		} else {
			if (landscape[starty][startx + 1] == '#') {
				moveSouth(starty, startx);
			} else {
				moveEast(starty, startx + 1);
			}
		}

	}

	private static void moveSouth(int starty, int startx) {
		visitedLocations.add("" + starty + startx);
		if (starty + 1 > landscape.length - 1) {
			return;
		} else {
			if (landscape[starty + 1][startx] == '#') {
				moveWest(starty, startx);
			} else {
				moveSouth(starty + 1, startx);
			}
		}
	}

	private static void moveWest(int starty, int startx) {
		visitedLocations.add("" + starty + startx);
		if (startx - 1 < 0) {
			return;
		} else {
			if (landscape[starty][startx - 1] == '#') {
				moveNorth(starty, startx);
			} else {
				moveWest(starty, startx - 1);
			}
		}
	}

	// Methode zur Ausgabe der Matrix
	public static void printMatrix(char[][] matrix) {
		for (char[] row : matrix) {
			for (char ch : row) {
				System.out.print(ch + " ");
			}
			System.out.println(); // Neue Zeile nach jeder Zeile
		}
	}
}
